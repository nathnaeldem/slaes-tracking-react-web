-- phpMyAdmin SQL Dump
-- version 4.9.5
-- https://www.phpmyadmin.net/
--
-- Host: localhost:3306
-- Generation Time: Jun 26, 2025 at 08:39 AM
-- Server version: 10.6.16-MariaDB-cll-lve
-- PHP Version: 7.4.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `nyvjzrsb_shopmgmt`
--

-- --------------------------------------------------------

--
-- Table structure for table `ip_blocks`
--

CREATE TABLE `ip_blocks` (
  `id` int(11) NOT NULL,
  `ip_address` varchar(45) NOT NULL,
  `organization_id` int(11) DEFAULT NULL,
  `blocked_until` datetime NOT NULL,
  `created_at` timestamp NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `login_attempts`
--

CREATE TABLE `login_attempts` (
  `id` int(11) NOT NULL,
  `username` varchar(50) NOT NULL,
  `success` tinyint(1) NOT NULL DEFAULT 0,
  `ip_address` varchar(45) NOT NULL,
  `user_agent` mediumtext DEFAULT NULL,
  `organization_id` int(11) DEFAULT NULL,
  `attempt_time` timestamp NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `login_attempts`
--

INSERT INTO `login_attempts` (`id`, `username`, `success`, `ip_address`, `user_agent`, `organization_id`, `attempt_time`) VALUES
(1, 'betse', 1, '102.208.97.130', 'Expo/1017697 CFNetwork/1333.0.4 Darwin/21.5.0', 1, '2025-06-10 13:34:51'),
(2, 'bire', 1, '102.208.96.139', 'Expo/1017697 CFNetwork/1333.0.4 Darwin/21.5.0', 1, '2025-06-10 14:00:33'),
(3, 'betse', 0, '102.208.97.71', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', NULL, '2025-06-12 07:41:19'),
(50, 'bire', 1, '196.190.61.128', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 1, '2025-06-21 10:49:06'),
(51, 'bire', 1, '196.190.61.128', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 1, '2025-06-21 13:26:22'),
(52, 'bire', 1, '196.190.61.128', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 1, '2025-06-21 18:33:19'),
(53, 'bire', 1, '196.190.61.128', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 1, '2025-06-21 18:34:29'),
(54, 'bire', 1, '102.213.69.142', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 1, '2025-06-22 07:16:01'),
(55, 'bire', 1, '169.150.196.154', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 1, '2025-06-22 09:28:02'),
(56, 'bire', 1, '169.150.196.154', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0', 1, '2025-06-22 09:30:20'),
(57, 'bire', 1, '102.213.69.142', 'okhttp/4.9.2', 1, '2025-06-22 13:06:48'),
(58, 'sanbu', 1, '102.213.69.142', 'okhttp/4.9.2', 1, '2025-06-22 13:20:07'),
(59, 'bire', 1, '102.213.69.142', 'okhttp/4.9.2', 1, '2025-06-22 13:22:10'),
(60, 'bire', 1, '102.213.69.203', NULL, 1, '2025-06-23 11:40:12'),
(61, 'bire', 1, '102.213.69.203', NULL, 1, '2025-06-23 11:45:44'),
(62, 'bire', 1, '102.213.69.203', NULL, 1, '2025-06-23 11:48:45'),
(63, 'bire', 1, '102.213.69.203', 'okhttp/4.12.0', 1, '2025-06-23 12:01:43'),
(64, 'habte', 1, '102.213.69.196', 'okhttp/4.12.0', 2, '2025-06-23 14:42:39'),
(65, 'temesgen', 1, '102.213.69.196', 'okhttp/4.12.0', 2, '2025-06-23 15:05:47'),
(66, 'habte', 1, '102.213.69.196', 'okhttp/4.12.0', 2, '2025-06-23 15:13:06'),
(67, 'bire', 1, '102.213.68.147', NULL, 1, '2025-06-24 11:30:24'),
(68, 'bire', 1, '102.213.68.147', NULL, 1, '2025-06-24 15:07:56'),
(69, 'bire', 1, '102.213.68.147', 'okhttp/4.9.2', 1, '2025-06-24 15:31:54'),
(70, 'bire', 1, '196.188.254.39', 'okhttp/4.9.2', 1, '2025-06-24 16:13:27'),
(71, 'bire', 1, '196.188.253.153', NULL, 1, '2025-06-25 12:01:07'),
(72, 'bire', 1, '102.208.97.109', NULL, 1, '2025-06-25 12:08:31'),
(73, 'sanbu', 1, '196.188.253.229', 'okhttp/4.9.2', 1, '2025-06-25 12:33:38'),
(74, 'mekdi1234', 0, '196.190.61.194', 'okhttp/4.9.2', NULL, '2025-06-25 16:51:42'),
(75, 'mekdi1234', 0, '196.190.61.194', 'okhttp/4.9.2', NULL, '2025-06-25 16:51:53'),
(76, 'sanbu', 1, '196.190.61.123', 'okhttp/4.9.2', 1, '2025-06-26 09:16:27'),
(77, 'bire', 1, '196.190.61.123', 'okhttp/4.9.2', 1, '2025-06-26 09:17:00'),
(78, 'bire', 1, '102.218.50.43', NULL, 1, '2025-06-26 12:25:57'),
(79, 'bire', 1, '196.190.61.123', 'okhttp/4.9.2', 1, '2025-06-26 12:36:29');

-- --------------------------------------------------------

--
-- Table structure for table `organizations`
--

CREATE TABLE `organizations` (
  `id` int(11) NOT NULL,
  `name` varchar(255) NOT NULL,
  `created_at` timestamp NULL DEFAULT current_timestamp(),
  `owner_user_id` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `organizations`
--

INSERT INTO `organizations` (`id`, `name`, `created_at`, `owner_user_id`) VALUES
(1, 'Betse Spare Parts', '2025-06-10 13:10:12', 1),
(2, 'habte_coca', '2025-06-23 14:40:38', 5);

-- --------------------------------------------------------

--
-- Table structure for table `password_reset_tokens`
--

CREATE TABLE `password_reset_tokens` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `token` varchar(64) NOT NULL,
  `token_hash` varchar(255) NOT NULL,
  `expiry` datetime NOT NULL,
  `created_at` timestamp NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `products`
--

CREATE TABLE `products` (
  `id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `description` mediumtext DEFAULT NULL,
  `category` varchar(50) DEFAULT NULL,
  `import_price` decimal(10,2) NOT NULL,
  `selling_price` decimal(10,2) NOT NULL,
  `organization_id` int(11) NOT NULL,
  `created_at` timestamp NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NULL DEFAULT NULL ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `products`
--

INSERT INTO `products` (`id`, `name`, `description`, `category`, `import_price`, `selling_price`, `organization_id`, `created_at`, `updated_at`) VALUES
(11, 'Battery 60Am', 'Gs', 'battery', '11000.00', '11500.00', 1, '2025-06-14 14:50:54', '2025-06-18 11:55:46'),
(12, 'Battery 90Am', 'Gs', 'battery', '15500.00', '16000.00', 1, '2025-06-14 14:51:51', '2025-06-18 11:55:46'),
(13, 'Battery 35Am', 'Kontem', 'battery', '7000.00', '7700.00', 1, '2025-06-14 14:53:33', '2025-06-18 11:55:46'),
(14, 'Battery 150Am', 'Gs', 'battery', '28000.00', '30000.00', 1, '2025-06-14 18:31:09', '2025-06-21 10:49:41'),
(15, '11×100 computer', 'CHRINT comp', 'balstera', '2850.00', '3050.00', 1, '2025-06-14 18:45:10', '2025-06-23 19:53:25'),
(16, '11×90 compu', 'Turk', 'balstera', '2400.00', '2600.00', 1, '2025-06-14 18:47:36', '2025-06-18 11:55:46'),
(17, '11×80 compu', 'Turk', 'balstera', '2300.00', '2500.00', 1, '2025-06-14 18:48:44', '2025-06-18 11:55:46'),
(18, '11×70 comput', 'Turk', 'balstera', '2100.00', '2300.00', 1, '2025-06-14 18:50:07', '2025-06-18 11:55:46'),
(19, 'Fsr የፊት ብሪማ comput', 'Turk', 'balstera', '4200.00', '4400.00', 1, '2025-06-14 18:52:45', '2025-06-18 11:55:46'),
(20, 'Fsr የፊት ሰኮንዶ comput', 'CHRNT COMPU', 'balstera', '4000.00', '4300.00', 1, '2025-06-14 18:54:38', '2025-06-23 19:59:28'),
(21, '11×130 comp 22ቀደደ', 'turk', 'balstera', '3100.00', '3400.00', 1, '2025-06-14 18:57:35', '2025-06-24 17:14:48'),
(22, '11×120 compu 22ቀደደ', 'turk', 'balstera', '2950.00', '3300.00', 1, '2025-06-14 19:01:18', '2025-06-24 17:25:57'),
(23, '11×110 comp 22ቀደደ', 'turk', 'balstera', '3000.00', '3200.00', 1, '2025-06-14 19:03:50', '2025-06-24 17:28:23'),
(24, '11×100 comp 22ቀደደ', 'turk', 'balstera', '2800.00', '3000.00', 1, '2025-06-14 19:06:19', '2025-06-24 17:40:16'),
(25, '11×90 compu 22ቀደደ', 'turk', 'balstera', '2600.00', '2900.00', 1, '2025-06-14 19:08:07', '2025-06-24 17:42:31'),
(26, '11×130 compu', 'Turk', 'balstera', '3000.00', '3400.00', 1, '2025-06-14 19:14:49', '2025-06-24 17:44:50'),
(27, '11×120 compu', 'Turk', 'balstera', '2900.00', '3300.00', 1, '2025-06-14 19:17:02', '2025-06-24 17:45:48'),
(28, '11×110 comp', 'Turk', 'balstera', '2800.00', '3200.00', 1, '2025-06-14 19:18:36', '2025-06-24 17:47:19'),
(29, '10×120 comp', 'Turk', 'balstera', '2900.00', '3200.00', 1, '2025-06-14 19:21:15', '2025-06-18 11:55:46'),
(30, '10×110 compu', 'Turk', 'balstera', '2700.00', '3000.00', 1, '2025-06-15 14:07:58', '2025-06-18 11:55:46'),
(31, 'Obam ብሪማ compu', 'Turk', 'balstera', '3700.00', '3900.00', 1, '2025-06-15 14:09:17', '2025-06-24 17:48:53'),
(32, 'Obam ሰኮንዶ compu', 'Turk', 'balstera', '3300.00', '3500.00', 1, '2025-06-15 14:20:25', '2025-06-18 11:55:46'),
(33, 'Fsr የሆላ ብሪማ compu', 'Turk', 'balstera', '4200.00', '4400.00', 1, '2025-06-15 14:34:38', '2025-06-24 17:50:23'),
(34, 'Fsr የሆላ ሰኮንዶ compu', 'turk', 'balstera', '3900.00', '4200.00', 1, '2025-06-15 14:37:18', '2025-06-24 17:52:04'),
(35, '11×100 Dubai', 'Japan', 'balstera', '2600.00', '2700.00', 1, '2025-06-15 14:56:23', '2025-06-18 11:55:46'),
(36, '11×90 Dubai', 'Bronz', 'balstera', '2350.00', '2500.00', 1, '2025-06-15 14:59:04', '2025-06-18 11:55:46'),
(37, '11×80 Dubai', 'Jp', 'balstera', '2150.00', '2400.00', 1, '2025-06-15 15:02:41', '2025-06-18 11:55:46'),
(38, '11×70 Dubai', 'Jp', 'balstera', '1900.00', '2100.00', 1, '2025-06-15 15:06:13', '2025-06-24 18:00:25'),
(39, 'Fsr የፊት ብሪማ Dub (japn)', 'Japan', 'balstera', '3900.00', '4100.00', 1, '2025-06-15 15:10:27', '2025-06-24 18:01:43'),
(40, 'Fsr የፊት ብሪማ Dub(Bronz)', 'Bronz', 'balstera', '4200.00', '4300.00', 1, '2025-06-15 15:28:57', '2025-06-24 18:02:38'),
(41, 'Fsr የፊት ብሪማ Dub(Anex)', 'Anex', 'balstera', '4200.00', '4400.00', 1, '2025-06-15 15:30:27', '2025-06-18 11:55:46'),
(42, 'Fsr የፊት ሰኮንዶ Dub(japan)', 'Japan', 'balstera', '4000.00', '4100.00', 1, '2025-06-15 15:32:50', '2025-06-18 11:55:46'),
(43, 'Fsr የፊት ሰኮንዶ Dub (Bronz)', 'Bronz', 'balstera', '4000.00', '4200.00', 1, '2025-06-15 15:37:38', '2025-06-18 11:55:46'),
(44, 'Fsr የሆላ ብሪማ duba (bronz)', 'Jan', 'balstera', '4100.00', '4400.00', 1, '2025-06-16 14:55:39', '2025-06-18 11:55:46'),
(45, 'Fsr የሆላ ሰኮንዶ duba', 'Bronz', 'balstera', '3900.00', '4100.00', 1, '2025-06-16 21:22:15', '2025-06-24 18:18:14'),
(46, '11×130 duba 22ቀደደ', 'Jp', 'balstera', '3100.00', '3300.00', 1, '2025-06-16 21:24:36', '2025-06-18 11:55:46'),
(47, '11×130 dubai 19ቀደደ', 'jp', 'balstera', '3100.00', '3300.00', 1, '2025-06-16 21:26:38', '2025-06-18 11:55:46'),
(48, '11×120duba 22ቀደደ', 'jp', 'balstera', '3000.00', '3300.00', 1, '2025-06-16 21:27:37', '2025-06-18 11:55:46'),
(49, '11×120duba 19ቀደደ', 'Jpan', 'balstera', '3000.00', '3300.00', 1, '2025-06-16 21:36:28', '2025-06-18 11:55:46'),
(50, '11×110dubai 22ቀደደ', 'japn', 'balstera', '2800.00', '3000.00', 1, '2025-06-16 21:37:58', '2025-06-18 11:55:46'),
(51, '11×110duba19ቀደደ', 'japn', 'balstera', '2800.00', '3000.00', 1, '2025-06-16 21:39:39', '2025-06-18 11:55:46'),
(52, '11×100duba 22ቀደደ', 'japn', 'balstera', '2700.00', '2900.00', 1, '2025-06-16 21:41:20', '2025-06-18 11:55:46'),
(53, '11×90dubai 22ቀደደ', 'bronz', 'balstera', '2500.00', '2700.00', 1, '2025-06-16 21:42:02', '2025-06-18 11:55:46'),
(54, 'Oba ብሪማ dubai', 'Jp', 'balstera', '3300.00', '3500.00', 1, '2025-06-17 17:49:38', '2025-06-18 11:55:46'),
(55, 'Obam ሰኮንዶ duba', 'Jp', 'balstera', '2800.00', '3000.00', 1, '2025-06-17 17:50:26', '2025-06-18 11:55:46'),
(56, '10×120dubai', 'Jp', 'balstera', '2750.00', '3000.00', 1, '2025-06-17 17:55:28', '2025-06-18 11:55:46'),
(57, '10×110duba', 'Jp', 'balstera', '2650.00', '2900.00', 1, '2025-06-17 18:00:56', '2025-06-18 11:55:46'),
(58, '10×100 dubai', 'Jp', 'balstera', '2500.00', '2700.00', 1, '2025-06-17 18:03:15', '2025-06-24 18:25:26'),
(59, '10×90 dubai', 'Jp', 'balstera', '2400.00', '2500.00', 1, '2025-06-17 18:06:40', '2025-06-18 11:55:46'),
(60, '10×80dubai', 'Jp', 'balstera', '2200.00', '2400.00', 1, '2025-06-17 18:10:25', '2025-06-18 11:55:46'),
(61, '10×70dubai', 'Jp', 'balstera', '1800.00', '2000.00', 1, '2025-06-17 18:11:20', '2025-06-24 18:32:13'),
(64, 'fsr loc ቦኮላ', 'local', 'accessory', '230.00', '250.00', 1, '2025-06-21 10:58:50', '2025-06-24 18:33:46'),
(65, 'fsr ቦኮላ በለከራቶን', 'bale kartonu', 'accessory', '270.00', '300.00', 1, '2025-06-21 11:03:14', '2025-06-24 18:37:22'),
(66, 'fsr የሆላ ካራኪኖ በለከረቶን', 'balekarton', 'accessory', '130.00', '150.00', 1, '2025-06-21 11:04:36', '2025-06-24 18:38:25'),
(67, 'fsr org የፊት ካርኪኖ', 'orgenal', 'accessory', '190.00', '200.00', 1, '2025-06-21 11:19:40', '2025-06-21 14:37:10'),
(68, 'fsr loc የሆላ ካርኪኖ', 'local', 'accessory', '60.00', '100.00', 1, '2025-06-21 13:33:48', '2025-06-21 14:45:06'),
(69, 'fsr  ማላሽ የሲኖ', 'ya sino', 'accessory', '2500.00', '2900.00', 1, '2025-06-21 13:39:25', '2025-06-24 18:42:11'),
(70, 'fsr መላሽ የፋብርካ', 'yafbrica', 'accessory', '3000.00', '3500.00', 1, '2025-06-21 13:41:58', NULL),
(71, 'fsr መላሽ ቢይዱ', 'local', 'accessory', '750.00', '800.00', 1, '2025-06-21 13:43:49', NULL),
(72, 'fsr መላሽ ሻኪላዉ', 'org', 'accessory', '1500.00', '1600.00', 1, '2025-06-21 14:47:14', '2025-06-25 13:33:51'),
(73, 'fsr የፊት ፒን', 'org', 'accessory', '360.00', '400.00', 1, '2025-06-21 14:55:59', NULL),
(74, 'fsr የሆላ ፒን', 'ኦርግ', 'accessory', '360.00', '400.00', 1, '2025-06-21 14:57:50', NULL),
(75, 'fsr ሸኒሲ ታላጣፊ org', 'shaklaw', 'accessory', '1550.00', '1650.00', 1, '2025-06-21 15:04:29', NULL),
(76, 'fsr ሻኒሲ ታላጣፊ loc', 'yemserw', 'accessory', '950.00', '1200.00', 1, '2025-06-21 15:06:46', NULL),
(77, 'fsr ሻኒሲ ታላጣፊ የፋቢሪካ', 'አሮግ', 'accessory', '3500.00', '3800.00', 1, '2025-06-21 15:11:18', '2025-06-24 19:48:32'),
(78, 'fsr 5ቃዳዳ ማዳበ org', 'shaklaw', 'accessory', '2450.00', '2600.00', 1, '2025-06-21 15:15:08', '2025-06-21 17:43:04'),
(79, 'fsr 5ቀዳዳ ማዳቢ  የፋብረካ', 'አሮገ', 'accessory', '5500.00', '6000.00', 1, '2025-06-21 15:53:06', '2025-06-24 22:05:16'),
(80, 'fsr ሸንሲ ታላጣፊ የፋቢሪካ', 'aroge', 'accessory', '3500.00', '4000.00', 1, '2025-06-21 15:59:15', NULL),
(81, 'fsr 6ቃዳዳ ማዳብ org', 'shakilw', 'accessory', '2900.00', '3100.00', 1, '2025-06-21 16:03:55', NULL),
(82, 'fsr 6 ቃዳዳ ማዳቢ የፋብሪካ', 'aroge', 'accessory', '6500.00', '7000.00', 1, '2025-06-21 16:12:40', NULL),
(83, 'fsr የፊት ስታፋ', 'jp', 'accessory', '420.00', '450.00', 1, '2025-06-21 17:59:39', NULL),
(84, 'fsr የሆላ ስታፋ', 'jp', 'accessory', '600.00', '650.00', 1, '2025-06-21 18:06:24', '2025-06-24 22:07:59'),
(85, 'fsr የፊት ታኒጣልጣይ org', 'yetasraw', 'accessory', '550.00', '650.00', 1, '2025-06-21 18:09:29', NULL),
(86, 'fsr የፊቲ ታኒጣልጣይ የፋቢሪካ ', 'aroge', 'accessory', '2500.00', '3000.00', 1, '2025-06-21 18:14:29', NULL),
(87, 'fsr የሆላ ታንጣልጣይ org', 'jp', 'accessory', '1500.00', '1600.00', 1, '2025-06-21 18:22:14', NULL),
(88, 'fsr የሆላ ታንጣልጣየ የፋብሪካ', 'aroge', 'accessory', '2200.00', '2500.00', 1, '2025-06-21 18:24:34', '2025-06-24 22:10:55'),
(89, 'fsr የፊት ፓራ ኮልቦ loc', 'loca', 'accessory', '500.00', '700.00', 1, '2025-06-21 18:30:54', NULL),
(90, 'fsr የፊት ፓራ ኮልቦ የፍብሪካ', 'aroge', 'accessory', '2800.00', '3300.00', 1, '2025-06-21 18:38:57', NULL),
(91, 'fsr የሻንስ ስታፍ', 'jp', 'accessory', '1000.00', '1200.00', 1, '2025-06-21 18:44:26', NULL),
(92, 'fsr አክስሰሪ ማጨርሸ ናው', 'jp', 'accessory', '10.00', '10.00', 1, '2025-06-21 18:48:26', NULL),
(93, 'oba የፊት ካርክኖ', 'jp', 'accessory', '70.00', '100.00', 1, '2025-06-21 18:59:08', NULL),
(94, 'oba የሆላ ካርክኖ', '', 'accessory', '80.00', '150.00', 1, '2025-06-21 19:09:02', NULL),
(95, '24 ፒን', '', 'accessory', '140.00', '150.00', 1, '2025-06-21 19:11:08', NULL),
(96, '27 ፒን', '', 'accessory', '140.00', '150.00', 1, '2025-06-21 19:12:37', NULL),
(97, 'oba የፊት ስታፍ', '', 'accessory', '250.00', '270.00', 1, '2025-06-21 19:14:26', NULL),
(98, 'oba የሆላ ስታፍ', '', 'accessory', '420.00', '450.00', 1, '2025-06-21 19:18:43', NULL),
(99, 'oba 24 ቦኮላ local', 'loc', 'accessory', '220.00', '250.00', 1, '2025-06-21 19:20:15', '2025-06-21 19:32:18'),
(100, 'oba 24 ቦኮላ japan', 'kay pestal', 'accessory', '350.00', '400.00', 1, '2025-06-21 19:29:03', NULL),
(101, 'oba 24 ቦኮላ gareman', 'kay', 'accessory', '370.00', '400.00', 1, '2025-06-21 19:30:21', NULL),
(102, 'oba 27 ቦኮላ local', 'nachi', 'accessory', '220.00', '250.00', 1, '2025-06-21 19:33:45', NULL),
(103, 'oba 27 ቦኮላ japan', '', 'balstera', '320.00', '380.00', 1, '2025-06-21 19:34:48', NULL),
(104, 'oba 27 ቦኮላ gareman', 'mulu kay', 'accessory', '370.00', '400.00', 1, '2025-06-21 19:46:45', NULL),
(105, 'oba ታስካኪ local', 'nachi', 'accessory', '220.00', '250.00', 1, '2025-06-21 19:55:31', NULL),
(106, 'oba ታስካኪ japan', 'nachi ba kay', 'accessory', '350.00', '375.00', 1, '2025-06-21 19:57:11', NULL),
(107, 'oba ታስካኪ german', 'kay', 'accessory', '380.00', '400.00', 1, '2025-06-21 19:58:38', NULL),
(108, 'oba ማላሽ org', 'org', 'accessory', '570.00', '600.00', 1, '2025-06-21 20:05:46', NULL),
(109, 'oba ማላሽ የፋብሪካ', 'aroge', 'accessory', '2800.00', '3300.00', 1, '2025-06-21 20:10:07', NULL),
(110, 'oba የፊት ታንጣልጣይ', 'org', 'accessory', '230.00', '250.00', 1, '2025-06-21 20:14:31', '2025-06-21 20:22:30'),
(111, 'oba የፊት ታንጣልጣይ የፋብርካ', 'aroge', 'accessory', '1000.00', '1300.00', 1, '2025-06-21 20:20:00', NULL),
(112, 'oba የሆላ ታንጣልጣይ', '', 'accessory', '230.00', '250.00', 1, '2025-06-21 20:21:56', NULL),
(113, 'oba የሆላ ታንጣልጣይ የፋብሪካ', '', 'accessory', '1000.00', '1300.00', 1, '2025-06-21 20:24:43', NULL),
(114, 'oba ማላሽ ጎሚን ትልቁ', 'local', 'accessory', '70.00', '100100.00', 1, '2025-06-22 15:37:31', '2025-06-22 15:42:46'),
(115, 'oba ማላሽ ጎሚን ትንሹ', 'loc', 'accessory', '50.00', '75.00', 1, '2025-06-22 15:39:27', '2025-06-22 15:40:55'),
(116, 'oba ማላሽ ጎሚን org', 'jp', 'accessory', '450.00', '500.00', 1, '2025-06-22 15:45:50', NULL),
(117, 'ፋሸታ', 'hager wusit', 'balstera', '55.00', '75.00', 1, '2025-06-22 17:10:01', NULL),
(118, 'oba accesser', '', 'accessory', '5.00', '7.00', 1, '2025-06-22 17:12:41', NULL),
(119, 'oba asse', '', 'accessory', '5.00', '10.00', 1, '2025-06-22 17:13:36', NULL),
(120, 'ክሪክ የበት መክና', '', 'accessory', '900.00', '1200.00', 1, '2025-06-22 17:18:31', NULL),
(121, 'ክሪክ 10 ton', '', 'accessory', '3000.00', '3500.00', 1, '2025-06-22 17:19:58', NULL),
(122, 'ክሪክ 20 ton', '', 'accessory', '3300.00', '3700.00', 1, '2025-06-22 17:22:05', NULL),
(123, 'ክሪክ 32 ton', '', 'accessory', '4500.00', '50009.00', 1, '2025-06-22 17:24:54', NULL),
(124, 'ግሪስ መጠጫ ብጨው', '', 'accessory', '800.00', '1100.00', 1, '2025-06-22 17:29:32', NULL),
(125, 'ግሪስ መጠጫ ቀዩ', '', 'balstera', '1400.00', '1800.00', 1, '2025-06-22 17:34:37', NULL),
(126, 'ግሪስ መጠጫ ባላ ስጥኑ', '', 'balstera', '2200.00', '2400.00', 1, '2025-06-22 17:36:08', NULL),
(127, 'belt ትልቁ', '', 'balstera', '800.00', '1000.00', 1, '2025-06-22 17:46:29', NULL),
(128, 'belt ትንሹ', '', 'accessory', '400.00', '600.00', 1, '2025-06-22 17:47:28', NULL),
(129, 'fsr የፊት[የግንባሪ] መስታዎት ', '', 'mestawet', '17000.00', '18000.00', 1, '2025-06-22 17:57:19', NULL),
(130, 'oba የፊት[የግንባሪ] መስታዎት', 'euro glace', 'mestawet', '17000.00', '18000.00', 1, '2025-06-22 18:00:02', NULL),
(131, 'ቅንጂት የግንባሪ መስታዎ ', 'finland', 'mestawet', '17000.00', '18000.00', 1, '2025-06-23 12:44:06', NULL),
(132, 'fsr የበር ማስታዎት right', 'euroglace', 'mestawet', '6500.00', '7000.00', 1, '2025-06-23 14:25:00', NULL),
(133, 'fsr የበር ማስታዎት left', 'euroglace', 'mestawet', '6500.00', '700.00', 1, '2025-06-23 14:27:17', NULL),
(134, 'oba የበር ማስታዎት righ', 'euroglace', 'mestawet', '6500.00', '7000.00', 1, '2025-06-23 14:30:03', NULL),
(135, 'oba የበር ማስታዎት left', 'euroglace', 'mestawet', '6500.00', '7000.00', 1, '2025-06-23 14:45:32', NULL),
(136, 'ቅንጅት የበር ማስታዎት righ', '', 'mestawet', '4500.00', '5500.00', 1, '2025-06-23 14:48:06', NULL),
(137, 'ቅንጅት የበር ማስታዎት  left', 'euroglace', 'mestawet', '4500.00', '5500.00', 1, '2025-06-23 14:49:59', NULL),
(138, 'ኮካ bottle fanta', '', 'Uncategorized', '570.00', '600.00', 2, '2025-06-23 14:51:49', '2025-06-23 15:03:42'),
(139, 'ኮካ pt 1.5', '', 'Uncategorized', '810.00', '970.00', 2, '2025-06-23 14:59:10', NULL),
(140, 'fsr ቻርከ የታስርው local', 'local', 'cherke', '7300.00', '7800.00', 1, '2025-06-23 15:01:45', NULL),
(141, 'ኮካ bottle sprite', '', 'Uncategorized', '570.00', '600.00', 2, '2025-06-23 15:04:24', NULL),
(142, 'fsr ቻርከ የታስርው topu org', 'topu orgenal', 'cherke', '14500.00', '15000.00', 1, '2025-06-23 15:04:34', NULL),
(143, 'Coce', '', 'Uncategorized', '570.00', '600.00', 2, '2025-06-23 15:17:03', NULL),
(144, 'oba ቻርከ የታስርው local', 'yetasra', 'cherke', '5000.00', '5500.00', 1, '2025-06-23 15:27:40', NULL),
(145, 'oba ቻርከ እሽጉ topu org', 'topu orginal', 'cherke', '8800.00', '9100.00', 1, '2025-06-23 15:30:40', NULL),
(146, 'ቅንጅት ቻርከ እሽጉ topu org', 'topu org', 'cherke', '8800.00', '9400.00', 1, '2025-06-23 15:34:18', NULL),
(147, 'fsr ቻሪኪ ud', 'ye ud', 'cherke', '15000.00', '16000.00', 1, '2025-06-23 15:51:11', NULL),
(148, '30ቁ ቡሎን ኦሪጅናል', 'kay', 'blon', '250.00', '300.00', 1, '2025-06-23 16:08:21', '2025-06-23 17:55:41'),
(149, '27ቁ ቡሎን ኦሪጅናል', ' kay', 'blon', '170.00', '200.00', 1, '2025-06-23 16:15:07', '2025-06-23 16:45:57'),
(150, '24ቁ ቡሎን ኦሪጅናል', '', 'blon', '100.00', '150.00', 1, '2025-06-23 16:24:00', NULL),
(151, '22ቁ ቡሎን ኦሪጅናል', '', 'blon', '100.00', '150.00', 1, '2025-06-23 16:27:01', NULL),
(152, '19ቁ ቡሎን ኦሪጅናል', '', 'blon', '75.00', '100.00', 1, '2025-06-23 16:28:27', NULL),
(153, '17ቁ ቡሎን ኦሪጅናል', '', 'blon', '75.00', '100.00', 1, '2025-06-23 16:36:14', NULL),
(154, '10ቁ ቡሎን local', 'loc', 'blon', '10.00', '20.00', 1, '2025-06-23 17:30:52', NULL),
(155, '13ቁ ቡሎን local', 'loc', 'blon', '20.00', '25.00', 1, '2025-06-23 17:33:30', NULL),
(156, '17ቁ ቡሎን local', 'bulon', 'blon', '30.00', '40.00', 1, '2025-06-23 17:36:38', NULL),
(157, '19ቁ ቡሎን local', 'bulon', 'blon', '30.00', '50.00', 1, '2025-06-23 17:39:40', NULL),
(158, '22ቁ ቡሎን local', '', 'blon', '40.00', '60.00', 1, '2025-06-23 17:41:26', NULL),
(159, '24ቁ ቡሎን local', '', 'blon', '50.00', '75.00', 1, '2025-06-23 17:44:23', NULL),
(160, '27ቁ ቡሎን local', '', 'blon', '100.00', '150.00', 1, '2025-06-23 17:49:56', NULL),
(161, '30ቁ ቡሎን local', '', 'blon', '200.00', '250.00', 1, '2025-06-23 17:53:44', NULL),
(162, '8/10/13 ዳዶ', '', 'blon', '5.00', '10.00', 1, '2025-06-23 17:57:21', NULL),
(163, '17/19 ዳዶ', '', 'blon', '15.00', '20.00', 1, '2025-06-23 17:59:02', NULL),
(164, '22/24/27', '', 'blon', '40.00', '50.00', 1, '2025-06-23 18:00:42', NULL),
(165, 'Battery 70AM', 'GS ORG', 'battery', '12500.00', '12800.00', 1, '2025-06-23 19:47:39', NULL),
(166, 'nebula', 'y', 'accessory', '1200.00', '2700.00', 1, '2025-06-24 11:36:56', NULL),
(167, 'productia', 'y', 'mestawet', '3700.00', '4699.00', 1, '2025-06-24 11:38:19', NULL);

-- --------------------------------------------------------

--
-- Table structure for table `product_inventory`
--

CREATE TABLE `product_inventory` (
  `id` int(11) NOT NULL,
  `product_id` int(11) NOT NULL,
  `quantity` int(11) NOT NULL DEFAULT 0,
  `status` enum('ordered','in_store','sold') NOT NULL DEFAULT 'ordered',
  `status_changed_at` timestamp NULL DEFAULT current_timestamp(),
  `created_at` timestamp NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `product_inventory`
--

INSERT INTO `product_inventory` (`id`, `product_id`, `quantity`, `status`, `status_changed_at`, `created_at`) VALUES
(11, 11, 7, 'in_store', '2025-06-23 12:15:18', '2025-06-14 14:50:54'),
(12, 12, 0, 'sold', '2025-06-23 12:13:15', '2025-06-14 14:51:51'),
(13, 13, 3, 'in_store', '2025-06-14 14:53:33', '2025-06-14 14:53:33'),
(14, 14, 2, 'in_store', '2025-06-21 10:49:41', '2025-06-14 18:31:09'),
(15, 15, 25, 'in_store', '2025-06-24 16:24:22', '2025-06-14 18:45:10'),
(16, 16, 0, 'in_store', '2025-06-24 17:11:05', '2025-06-14 18:47:36'),
(17, 17, 0, 'in_store', '2025-06-24 17:13:10', '2025-06-14 18:48:44'),
(18, 18, 10, 'in_store', '2025-06-14 18:50:07', '2025-06-14 18:50:07'),
(19, 19, 20, 'in_store', '2025-06-17 16:06:40', '2025-06-14 18:52:45'),
(20, 20, 20, 'in_store', '2025-06-17 16:06:22', '2025-06-14 18:54:38'),
(21, 21, 20, 'in_store', '2025-06-24 17:14:48', '2025-06-14 18:57:35'),
(22, 22, 5, 'in_store', '2025-06-24 17:41:14', '2025-06-14 19:01:18'),
(23, 23, 10, 'in_store', '2025-06-24 17:28:23', '2025-06-14 19:03:50'),
(24, 24, 0, 'in_store', '2025-06-24 17:41:44', '2025-06-14 19:06:19'),
(25, 25, 0, 'in_store', '2025-06-24 17:42:31', '2025-06-14 19:08:07'),
(26, 26, 5, 'in_store', '2025-06-24 17:44:50', '2025-06-14 19:14:49'),
(27, 27, 5, 'in_store', '2025-06-24 17:45:48', '2025-06-14 19:17:02'),
(28, 28, 5, 'in_store', '2025-06-24 17:47:19', '2025-06-14 19:18:36'),
(29, 29, 0, 'in_store', '2025-06-24 17:47:45', '2025-06-14 19:21:15'),
(30, 30, 0, 'in_store', '2025-06-24 17:48:20', '2025-06-15 14:07:58'),
(31, 31, 7, 'in_store', '2025-06-24 17:48:53', '2025-06-15 14:09:17'),
(32, 32, 0, 'in_store', '2025-06-24 17:49:24', '2025-06-15 14:20:25'),
(33, 33, 5, 'in_store', '2025-06-24 17:50:23', '2025-06-15 14:34:38'),
(34, 34, 5, 'in_store', '2025-06-24 17:52:04', '2025-06-15 14:37:18'),
(35, 35, 0, 'in_store', '2025-06-24 17:54:38', '2025-06-15 14:56:23'),
(36, 36, 5, 'in_store', '2025-06-25 12:38:20', '2025-06-15 14:59:04'),
(37, 37, 9, 'in_store', '2025-06-25 12:35:34', '2025-06-15 15:02:41'),
(38, 38, 0, 'in_store', '2025-06-24 18:00:25', '2025-06-15 15:06:13'),
(39, 39, 18, 'in_store', '2025-06-24 18:01:43', '2025-06-15 15:10:27'),
(40, 40, 15, 'in_store', '2025-06-24 18:02:38', '2025-06-15 15:28:57'),
(41, 41, 20, 'in_store', '2025-06-15 15:30:27', '2025-06-15 15:30:27'),
(42, 42, 10, 'in_store', '2025-06-15 15:32:50', '2025-06-15 15:32:50'),
(43, 43, 10, 'in_store', '2025-06-15 15:37:38', '2025-06-15 15:37:38'),
(44, 44, 10, 'in_store', '2025-06-16 21:20:29', '2025-06-16 14:55:39'),
(45, 45, 5, 'in_store', '2025-06-24 18:18:14', '2025-06-16 21:22:15'),
(46, 46, 10, 'in_store', '2025-06-16 21:24:36', '2025-06-16 21:24:36'),
(47, 47, 10, 'in_store', '2025-06-16 21:26:38', '2025-06-16 21:26:38'),
(48, 48, 10, 'in_store', '2025-06-16 21:27:37', '2025-06-16 21:27:37'),
(49, 49, 10, 'in_store', '2025-06-16 21:36:28', '2025-06-16 21:36:28'),
(50, 50, 10, 'in_store', '2025-06-16 21:37:58', '2025-06-16 21:37:58'),
(51, 51, 10, 'in_store', '2025-06-16 21:39:39', '2025-06-16 21:39:39'),
(52, 52, 5, 'in_store', '2025-06-16 21:41:20', '2025-06-16 21:41:20'),
(53, 53, 5, 'in_store', '2025-06-16 21:42:02', '2025-06-16 21:42:02'),
(54, 54, 0, 'in_store', '2025-06-24 18:21:54', '2025-06-17 17:49:38'),
(55, 55, 4, 'in_store', '2025-06-24 18:23:00', '2025-06-17 17:50:26'),
(56, 56, 10, 'in_store', '2025-06-17 17:57:12', '2025-06-17 17:55:28'),
(57, 57, 10, 'in_store', '2025-06-17 18:00:56', '2025-06-17 18:00:56'),
(58, 58, 20, 'in_store', '2025-06-24 18:25:26', '2025-06-17 18:03:15'),
(59, 59, 10, 'in_store', '2025-06-17 18:07:25', '2025-06-17 18:06:40'),
(60, 60, 10, 'in_store', '2025-06-17 18:10:25', '2025-06-17 18:10:25'),
(61, 61, 0, 'in_store', '2025-06-24 18:32:13', '2025-06-17 18:11:20'),
(64, 64, 200, 'in_store', '2025-06-24 18:33:46', '2025-06-21 10:58:50'),
(65, 65, 100, 'in_store', '2025-06-24 18:37:22', '2025-06-21 11:03:14'),
(66, 66, 80, 'in_store', '2025-06-24 18:38:25', '2025-06-21 11:04:36'),
(67, 67, 50, 'in_store', '2025-06-21 14:37:10', '2025-06-21 11:19:40'),
(68, 68, 100, 'in_store', '2025-06-21 14:45:06', '2025-06-21 13:33:48'),
(69, 69, 10, 'in_store', '2025-06-24 18:42:11', '2025-06-21 13:39:25'),
(70, 70, 4, 'in_store', '2025-06-21 13:41:58', '2025-06-21 13:41:58'),
(71, 71, 10, 'in_store', '2025-06-21 13:43:49', '2025-06-21 13:43:49'),
(72, 72, 15, 'in_store', '2025-06-25 13:33:51', '2025-06-21 14:47:14'),
(73, 73, 50, 'in_store', '2025-06-21 14:55:59', '2025-06-21 14:55:59'),
(74, 74, 50, 'in_store', '2025-06-21 14:57:50', '2025-06-21 14:57:50'),
(75, 75, 5, 'in_store', '2025-06-21 15:04:29', '2025-06-21 15:04:29'),
(76, 76, 80, 'in_store', '2025-06-21 15:06:46', '2025-06-21 15:06:46'),
(77, 77, 3, 'in_store', '2025-06-24 19:48:32', '2025-06-21 15:11:18'),
(78, 78, 10, 'in_store', '2025-06-21 17:43:04', '2025-06-21 15:15:08'),
(79, 79, 1, 'in_store', '2025-06-24 22:05:16', '2025-06-21 15:53:06'),
(80, 80, 1, 'in_store', '2025-06-21 15:59:15', '2025-06-21 15:59:15'),
(81, 81, 5, 'in_store', '2025-06-21 16:03:55', '2025-06-21 16:03:55'),
(82, 82, 1, 'in_store', '2025-06-21 16:12:40', '2025-06-21 16:12:40'),
(83, 83, 12, 'in_store', '2025-06-21 17:59:39', '2025-06-21 17:59:39'),
(84, 84, 24, 'in_store', '2025-06-24 22:07:59', '2025-06-21 18:06:24'),
(85, 85, 50, 'in_store', '2025-06-21 18:09:29', '2025-06-21 18:09:29'),
(86, 86, 1, 'in_store', '2025-06-21 18:14:29', '2025-06-21 18:14:29'),
(87, 87, 10, 'in_store', '2025-06-21 18:22:14', '2025-06-21 18:22:14'),
(88, 88, 4, 'in_store', '2025-06-24 22:10:55', '2025-06-21 18:24:34'),
(89, 89, 0, 'in_store', '2025-06-21 18:30:54', '2025-06-21 18:30:54'),
(90, 90, 5, 'in_store', '2025-06-21 18:38:57', '2025-06-21 18:38:57'),
(91, 91, 4, 'in_store', '2025-06-21 18:44:26', '2025-06-21 18:44:26'),
(92, 92, 100, 'in_store', '2025-06-21 18:48:26', '2025-06-21 18:48:26'),
(93, 93, 27, 'in_store', '2025-06-25 16:07:41', '2025-06-21 18:59:08'),
(94, 94, 19, 'in_store', '2025-06-25 16:16:36', '2025-06-21 19:09:02'),
(95, 95, 101, 'in_store', '2025-06-25 16:06:15', '2025-06-21 19:11:08'),
(96, 96, 60, 'in_store', '2025-06-25 16:06:31', '2025-06-21 19:12:37'),
(97, 97, 15, 'in_store', '2025-06-21 19:14:26', '2025-06-21 19:14:26'),
(98, 98, 20, 'in_store', '2025-06-21 19:18:43', '2025-06-21 19:18:43'),
(99, 99, 50, 'in_store', '2025-06-21 19:32:18', '2025-06-21 19:20:15'),
(100, 100, 40, 'in_store', '2025-06-21 19:29:03', '2025-06-21 19:29:03'),
(101, 101, 50, 'in_store', '2025-06-21 19:30:21', '2025-06-21 19:30:21'),
(102, 102, 100, 'in_store', '2025-06-21 19:33:45', '2025-06-21 19:33:45'),
(103, 103, 50, 'in_store', '2025-06-21 19:34:48', '2025-06-21 19:34:48'),
(104, 104, 50, 'in_store', '2025-06-21 19:46:45', '2025-06-21 19:46:45'),
(105, 105, 100, 'in_store', '2025-06-21 19:55:31', '2025-06-21 19:55:31'),
(106, 106, 100, 'in_store', '2025-06-21 19:57:11', '2025-06-21 19:57:11'),
(107, 107, 100, 'in_store', '2025-06-21 19:58:38', '2025-06-21 19:58:38'),
(108, 108, 100, 'in_store', '2025-06-21 20:05:46', '2025-06-21 20:05:46'),
(109, 109, 1, 'in_store', '2025-06-21 20:10:07', '2025-06-21 20:10:07'),
(110, 110, 20, 'in_store', '2025-06-21 20:22:30', '2025-06-21 20:14:31'),
(111, 111, 2, 'in_store', '2025-06-21 20:20:00', '2025-06-21 20:20:00'),
(112, 112, 20, 'in_store', '2025-06-21 20:21:56', '2025-06-21 20:21:56'),
(113, 113, 2, 'in_store', '2025-06-21 20:24:43', '2025-06-21 20:24:43'),
(114, 114, 100, 'in_store', '2025-06-22 15:42:46', '2025-06-22 15:37:31'),
(115, 115, 100, 'in_store', '2025-06-22 15:40:55', '2025-06-22 15:39:27'),
(116, 116, 6, 'in_store', '2025-06-22 15:45:50', '2025-06-22 15:45:50'),
(117, 117, 100, 'in_store', '2025-06-22 17:10:01', '2025-06-22 17:10:01'),
(118, 118, 100, 'in_store', '2025-06-22 17:12:41', '2025-06-22 17:12:41'),
(119, 119, 50, 'in_store', '2025-06-22 17:13:36', '2025-06-22 17:13:36'),
(120, 120, 3, 'in_store', '2025-06-22 17:18:31', '2025-06-22 17:18:31'),
(121, 121, 0, 'in_store', '2025-06-22 17:19:58', '2025-06-22 17:19:58'),
(122, 122, 2, 'in_store', '2025-06-22 17:22:05', '2025-06-22 17:22:05'),
(123, 123, 2, 'in_store', '2025-06-22 17:24:54', '2025-06-22 17:24:54'),
(124, 124, 30, 'in_store', '2025-06-22 17:29:32', '2025-06-22 17:29:32'),
(125, 125, 2, 'in_store', '2025-06-22 17:34:37', '2025-06-22 17:34:37'),
(126, 126, 1, 'in_store', '2025-06-22 17:36:08', '2025-06-22 17:36:08'),
(127, 127, 50, 'in_store', '2025-06-22 17:46:29', '2025-06-22 17:46:29'),
(128, 128, 24, 'in_store', '2025-06-22 17:47:28', '2025-06-22 17:47:28'),
(129, 129, 2, 'in_store', '2025-06-22 17:57:19', '2025-06-22 17:57:19'),
(130, 130, 3, 'in_store', '2025-06-22 18:00:02', '2025-06-22 18:00:02'),
(131, 131, 1, 'in_store', '2025-06-23 12:44:06', '2025-06-23 12:44:06'),
(132, 132, 4, 'in_store', '2025-06-23 14:25:00', '2025-06-23 14:25:00'),
(133, 133, 4, 'in_store', '2025-06-23 14:27:17', '2025-06-23 14:27:17'),
(134, 134, 4, 'in_store', '2025-06-23 14:30:03', '2025-06-23 14:30:03'),
(135, 135, 4, 'in_store', '2025-06-23 14:45:32', '2025-06-23 14:45:32'),
(136, 136, 4, 'in_store', '2025-06-23 14:48:06', '2025-06-23 14:48:06'),
(137, 137, 4, 'in_store', '2025-06-23 14:49:59', '2025-06-23 14:49:59'),
(138, 138, 1, 'in_store', '2025-06-23 15:11:01', '2025-06-23 14:51:49'),
(139, 139, 950, 'in_store', '2025-06-23 15:26:36', '2025-06-23 14:59:10'),
(140, 140, 5, 'in_store', '2025-06-23 15:01:45', '2025-06-23 15:01:45'),
(141, 141, 1700, 'in_store', '2025-06-23 15:08:04', '2025-06-23 15:04:24'),
(142, 142, 5, 'in_store', '2025-06-25 13:28:07', '2025-06-23 15:04:34'),
(143, 143, 7000, 'in_store', '2025-06-23 15:17:03', '2025-06-23 15:17:03'),
(144, 144, 4, 'in_store', '2025-06-23 15:27:40', '2025-06-23 15:27:40'),
(145, 145, 9, 'in_store', '2025-06-23 15:30:40', '2025-06-23 15:30:40'),
(146, 146, 2, 'in_store', '2025-06-23 15:34:18', '2025-06-23 15:34:18'),
(147, 148, 1, 'in_store', '2025-06-23 16:08:21', '2025-06-23 16:08:21'),
(148, 149, 1, 'in_store', '2025-06-23 16:15:07', '2025-06-23 16:15:07'),
(149, 150, 50, 'in_store', '2025-06-23 16:24:00', '2025-06-23 16:24:00'),
(150, 151, 300, 'in_store', '2025-06-23 16:27:01', '2025-06-23 16:27:01'),
(151, 152, 100, 'in_store', '2025-06-23 16:28:27', '2025-06-23 16:28:27'),
(152, 153, 100, 'in_store', '2025-06-23 16:36:14', '2025-06-23 16:36:14'),
(153, 154, 500, 'in_store', '2025-06-23 17:30:52', '2025-06-23 17:30:52'),
(154, 155, 500, 'in_store', '2025-06-23 17:33:30', '2025-06-23 17:33:30'),
(155, 156, 400, 'in_store', '2025-06-23 17:36:38', '2025-06-23 17:36:38'),
(156, 157, 400, 'in_store', '2025-06-23 17:39:40', '2025-06-23 17:39:40'),
(157, 158, 300, 'in_store', '2025-06-23 17:41:26', '2025-06-23 17:41:26'),
(158, 159, 100, 'in_store', '2025-06-23 17:44:23', '2025-06-23 17:44:23'),
(159, 160, 30, 'in_store', '2025-06-23 17:49:56', '2025-06-23 17:49:56'),
(160, 161, 5, 'in_store', '2025-06-23 17:53:44', '2025-06-23 17:53:44'),
(161, 162, 1000, 'in_store', '2025-06-23 17:57:21', '2025-06-23 17:57:21'),
(162, 163, 500, 'in_store', '2025-06-23 17:59:02', '2025-06-23 17:59:02'),
(163, 164, 1000, 'in_store', '2025-06-23 18:00:42', '2025-06-23 18:00:42'),
(164, 165, 9, 'in_store', '2025-06-23 19:47:39', '2025-06-23 19:47:39'),
(165, 15, 25, 'in_store', '2025-06-24 16:24:22', '2025-06-23 19:53:25'),
(166, 20, 20, 'in_store', '2025-06-23 19:59:28', '2025-06-23 19:59:28'),
(167, 20, 20, 'in_store', '2025-06-23 20:00:07', '2025-06-23 20:00:07'),
(168, 15, 25, 'in_store', '2025-06-24 16:24:22', '2025-06-23 20:00:43'),
(169, 15, 25, 'in_store', '2025-06-24 16:24:22', '2025-06-23 20:01:29'),
(170, 166, 67, 'in_store', '2025-06-24 11:36:56', '2025-06-24 11:36:56'),
(171, 167, 50, 'in_store', '2025-06-24 11:38:19', '2025-06-24 11:38:19');

-- --------------------------------------------------------

--
-- Table structure for table `product_transactions`
--

CREATE TABLE `product_transactions` (
  `id` int(11) NOT NULL,
  `product_id` int(11) NOT NULL,
  `quantity` int(11) NOT NULL,
  `previous_status` enum('ordered','in_store','sold','new') NOT NULL,
  `new_status` enum('ordered','in_store','sold') NOT NULL,
  `user_id` int(11) NOT NULL,
  `organization_id` int(11) NOT NULL,
  `transaction_date` timestamp NULL DEFAULT current_timestamp(),
  `comment` varchar(100) NOT NULL DEFAULT 'none',
  `Sold_Price` int(100) NOT NULL DEFAULT 0,
  `payment_method` enum('cash','credit','account_transfer') NOT NULL,
  `bank_name` varchar(20) NOT NULL,
  `unpaid_amount` int(20) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `product_transactions`
--

INSERT INTO `product_transactions` (`id`, `product_id`, `quantity`, `previous_status`, `new_status`, `user_id`, `organization_id`, `transaction_date`, `comment`, `Sold_Price`, `payment_method`, `bank_name`, `unpaid_amount`) VALUES
(11, 15, 2, 'in_store', 'in_store', 1, 1, '2025-06-14 19:49:47', '', 2800, 'account_transfer', '0', 0),
(12, 15, 3, 'in_store', 'in_store', 1, 1, '2025-06-16 14:52:42', '', 2800, 'cash', '0', 0),
(15, 11, 3, 'in_store', 'in_store', 1, 1, '2025-06-17 06:56:29', '', 11500, 'account_transfer', 'Awash', 0),
(16, 11, 2, 'in_store', 'in_store', 1, 1, '2025-06-18 05:20:40', '', 11500, 'account_transfer', 'dashen', 0),
(17, 12, 2, 'in_store', 'in_store', 1, 1, '2025-06-18 05:21:20', 'Alemu', 16000, 'credit', '', 150),
(18, 14, 2, 'in_store', 'in_store', 1, 1, '2025-06-19 15:10:24', '', 30000, 'cash', '', 0),
(19, 11, 2, 'in_store', 'in_store', 4, 1, '2025-06-22 13:20:44', '', 11500, 'credit', '', 0),
(20, 11, 3, 'in_store', 'in_store', 4, 1, '2025-06-22 13:21:44', '', 11500, 'credit', '', 0),
(21, 31, 10, 'in_store', 'in_store', 2, 1, '2025-06-22 13:53:40', '', 3800, 'credit', '', 0),
(22, 12, 1, 'in_store', 'sold', 2, 1, '2025-06-23 12:13:15', 'Ayele', 16000, 'credit', '', 2750),
(23, 11, 3, 'in_store', 'in_store', 2, 1, '2025-06-23 12:14:38', 'Temesgen', 11500, 'credit', '', 700),
(24, 11, 5, 'in_store', 'in_store', 2, 1, '2025-06-23 12:14:57', 'Tamrat', 11500, 'credit', '', 600),
(25, 11, 7, 'in_store', 'in_store', 2, 1, '2025-06-23 12:15:18', 'Birhanu', 11500, 'credit', '', 900),
(26, 141, 100, 'in_store', 'in_store', 6, 2, '2025-06-23 15:08:04', '', 600, 'account_transfer', 'CBE', 0),
(27, 138, 350, 'in_store', 'in_store', 6, 2, '2025-06-23 15:09:42', '', 600, 'account_transfer', 'Awash', 0),
(28, 138, 2649, 'in_store', 'in_store', 6, 2, '2025-06-23 15:11:01', '', 600, 'account_transfer', 'CBE', 0),
(29, 139, 150, 'in_store', 'in_store', 5, 2, '2025-06-23 15:26:36', '', 970, 'cash', '', 0),
(30, 37, 1, 'in_store', 'in_store', 4, 1, '2025-06-25 12:35:34', 'Ayele', 2400, 'credit', '', 1200),
(31, 36, 2, 'in_store', 'in_store', 4, 1, '2025-06-25 12:37:13', '', 2500, 'account_transfer', 'awash', 0),
(32, 36, 3, 'in_store', 'in_store', 4, 1, '2025-06-25 12:38:20', 'Nati', 2500, 'credit', '', 3000),
(33, 142, 1, 'in_store', 'in_store', 4, 1, '2025-06-25 13:28:07', 'ካሱ', 15000, 'credit', '', 8000);

-- --------------------------------------------------------

--
-- Table structure for table `spendings`
--

CREATE TABLE `spendings` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `organization_id` int(11) NOT NULL,
  `amount` decimal(10,2) NOT NULL,
  `category` enum('purchase','logistics','consumption') NOT NULL,
  `reason` varchar(255) NOT NULL,
  `comment` text DEFAULT NULL,
  `transaction_date` timestamp NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `spendings`
--

INSERT INTO `spendings` (`id`, `user_id`, `organization_id`, `amount`, `category`, `reason`, `comment`, `transaction_date`) VALUES
(2, 4, 1, '300.00', 'purchase', 'Y', '', '2025-06-12 19:01:04'),
(3, 1, 1, '1000.00', 'consumption', 'La betsi', '', '2025-06-14 19:51:31'),
(4, 1, 1, '1000.00', 'logistics', 'Transport', '', '2025-06-16 14:53:30'),
(5, 2, 1, '5000.00', 'logistics', 'ለfsr የቸከፈሐ', '', '2025-06-22 13:50:27'),
(6, 6, 2, '50000.00', 'logistics', 'ነዳጅ', '', '2025-06-23 15:11:50'),
(7, 6, 2, '22000.00', 'logistics', 'የሰራተኛ የወር', '', '2025-06-23 15:12:36'),
(8, 4, 1, '500.00', 'consumption', 'ምሳ', '', '2025-06-25 12:40:58'),
(9, 4, 1, '3000.00', 'logistics', 'ለትራንስፖርትና ለአውራጅ', '', '2025-06-25 13:22:20'),
(10, 4, 1, '330.00', 'consumption', 'Misa', '', '2025-06-25 13:23:25');

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `id` int(11) NOT NULL,
  `username` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `password` varchar(255) NOT NULL,
  `role` varchar(20) NOT NULL DEFAULT 'user',
  `is_active` tinyint(1) NOT NULL DEFAULT 1,
  `organization_id` int(11) NOT NULL,
  `created_at` timestamp NULL DEFAULT current_timestamp(),
  `last_login` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`id`, `username`, `email`, `password`, `role`, `is_active`, `organization_id`, `created_at`, `last_login`) VALUES
(1, 'betse', 'degi@gmail.com', '$2y$10$em8HJjBX0jSslrQ1MKPwY.Xu80nQmGpTaRnB1BOlgf5fPARm6HIp.', 'admin', 1, 1, '2025-06-10 13:10:12', '2025-06-15 15:43:13'),
(2, 'bire', 'bire@gmail.com', '$2y$10$8AyuEpVhp7ETo9zUiu1xsOfCFuvK8EfP56ryGtM/bhxVBbru.pdm6', 'admin', 1, 1, '2025-06-10 13:59:01', '2025-06-26 12:36:29'),
(3, 'mekdes', 'a@d.c', '$2y$10$DlLfgiHhUaUhFEtUBBgfOu5o2qFU5CNhmAqF77YeO.LRczyYZJhRS', 'worker', 1, 1, '2025-06-12 05:28:24', '2025-06-14 13:13:29'),
(4, 'sanbu', 'n@g.c', '$2a$12$U1QBp2.ESjfbpTVoHTfwSeySKRFjUjJLXfZ/5Ob781pzfncX1gdsq', 'user', 1, 1, '2025-06-12 07:43:14', '2025-06-26 09:16:27'),
(5, 'habte', 'habtsh@gmail.com', '$2y$10$qmZD9Oph30zjCTYqKCkJAumVi6hcXC5wDwEjcsJFWEVNKkavOGIbi', 'admin', 1, 2, '2025-06-23 14:40:38', '2025-06-23 15:13:06'),
(6, 'temesgen', 'Stire@gmail.com', '$2y$10$ESWFaKMu89r74Lw.wTB2rO5erX4U1NdUGUBl0BcUbwQlRPUrx.QkK', 'user', 1, 2, '2025-06-23 15:05:24', '2025-06-23 15:05:47');

-- --------------------------------------------------------

--
-- Table structure for table `user_activity`
--

CREATE TABLE `user_activity` (
  `id` int(11) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `organization_id` int(11) DEFAULT NULL,
  `activity_type` varchar(50) NOT NULL,
  `description` mediumtext NOT NULL,
  `ip_address` varchar(45) NOT NULL,
  `activity_time` timestamp NULL DEFAULT current_timestamp(),
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `user_activity`
--

INSERT INTO `user_activity` (`id`, `user_id`, `organization_id`, `activity_type`, `description`, `ip_address`, `activity_time`, `created_at`) VALUES
(1, 1, 1, 'registration', 'User registered', '102.208.97.33', '2025-06-10 13:10:12', '2025-06-23 09:29:50'),
(2, 1, 1, 'login', 'User logged in', '102.208.97.130', '2025-06-10 13:34:51', '2025-06-23 09:29:50'),
(3, 1, 1, 'reports_view', 'Viewed reports & transactions from 2025-06-10 00:00:00 to 2025-06-10 23:59:59', '102.208.96.139', '2025-06-10 13:42:07', '2025-06-23 09:29:50'),
(4, 1, 1, 'reports_view', 'Viewed reports & transactions from 2025-06-04 00:00:00 to 2025-06-10 23:59:59', '102.208.96.139', '2025-06-10 13:42:12', '2025-06-23 09:29:50'),
(5, 1, 1, 'reports_view', 'Viewed reports & transactions from 2025-05-10 00:00:00 to 2025-06-10 23:59:59', '102.208.96.139', '2025-06-10 13:42:14', '2025-06-23 09:29:50'),
(6, 1, 1, 'product_add', 'Added product \'Bela\' (ID: 4)', '102.208.97.130', '2025-06-10 13:46:45', '2025-06-23 09:29:50'),
(359, 2, 1, 'login', 'User logged in', '102.213.68.147', '2025-06-24 15:31:54', '2025-06-24 15:31:54'),
(360, 2, 1, 'login', 'User logged in', '196.188.254.39', '2025-06-24 16:13:27', '2025-06-24 16:13:27'),
(361, 2, 1, 'product_update', 'Updated product ID: 15', '196.188.254.39', '2025-06-24 16:24:22', '2025-06-24 16:24:22'),
(362, 2, 1, 'product_update', 'Updated product ID: 16', '196.188.254.39', '2025-06-24 17:11:05', '2025-06-24 17:11:05'),
(363, 2, 1, 'product_update', 'Updated product ID: 17', '196.188.254.39', '2025-06-24 17:11:20', '2025-06-24 17:11:20'),
(364, 2, 1, 'product_update', 'Updated product ID: 17', '196.188.254.39', '2025-06-24 17:13:10', '2025-06-24 17:13:10'),
(365, 2, 1, 'product_update', 'Updated product ID: 21', '196.188.254.39', '2025-06-24 17:14:48', '2025-06-24 17:14:48'),
(366, 2, 1, 'product_update', 'Updated product ID: 22', '196.188.254.39', '2025-06-24 17:25:57', '2025-06-24 17:25:57'),
(367, 2, 1, 'product_update', 'Updated product ID: 23', '196.188.254.39', '2025-06-24 17:28:23', '2025-06-24 17:28:23'),
(368, 2, 1, 'product_update', 'Updated product ID: 24', '196.188.254.39', '2025-06-24 17:40:16', '2025-06-24 17:40:16'),
(369, 2, 1, 'product_update', 'Updated product ID: 22', '196.188.254.39', '2025-06-24 17:41:14', '2025-06-24 17:41:14'),
(370, 2, 1, 'product_update', 'Updated product ID: 24', '196.188.254.39', '2025-06-24 17:41:44', '2025-06-24 17:41:44'),
(371, 2, 1, 'product_update', 'Updated product ID: 25', '196.188.254.39', '2025-06-24 17:42:31', '2025-06-24 17:42:31'),
(372, 2, 1, 'product_update', 'Updated product ID: 26', '196.188.254.39', '2025-06-24 17:44:50', '2025-06-24 17:44:50'),
(373, 2, 1, 'product_update', 'Updated product ID: 27', '196.188.254.39', '2025-06-24 17:45:48', '2025-06-24 17:45:48'),
(374, 2, 1, 'product_update', 'Updated product ID: 28', '196.188.254.39', '2025-06-24 17:47:19', '2025-06-24 17:47:19'),
(375, 2, 1, 'product_update', 'Updated product ID: 29', '196.188.254.39', '2025-06-24 17:47:45', '2025-06-24 17:47:45'),
(376, 2, 1, 'product_update', 'Updated product ID: 30', '196.188.254.39', '2025-06-24 17:48:20', '2025-06-24 17:48:20'),
(377, 2, 1, 'product_update', 'Updated product ID: 31', '196.188.254.39', '2025-06-24 17:48:53', '2025-06-24 17:48:53'),
(378, 2, 1, 'product_update', 'Updated product ID: 32', '196.188.254.39', '2025-06-24 17:49:24', '2025-06-24 17:49:24'),
(379, 2, 1, 'product_update', 'Updated product ID: 33', '196.188.254.39', '2025-06-24 17:50:23', '2025-06-24 17:50:23'),
(420, 2, 1, 'login', 'User bire logged in successfully.', '102.218.50.43', '2025-06-26 12:25:57', '2025-06-26 12:25:57'),
(421, 2, 1, 'reports_view', 'Viewed reports & transactions from 2025-06-26 00:00:00 to 2025-06-26 23:59:59', '196.190.61.123', '2025-06-26 12:35:27', '2025-06-26 12:35:27'),
(422, 2, 1, 'password_change', 'User changed own password', '196.190.61.123', '2025-06-26 12:36:11', '2025-06-26 12:36:11'),
(423, 2, 1, 'login', 'User logged in', '196.190.61.123', '2025-06-26 12:36:29', '2025-06-26 12:36:29');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `ip_blocks`
--
ALTER TABLE `ip_blocks`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `ip_address` (`ip_address`);

--
-- Indexes for table `login_attempts`
--
ALTER TABLE `login_attempts`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `organizations`
--
ALTER TABLE `organizations`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `name_UNIQUE` (`name`),
  ADD KEY `owner_user_id` (`owner_user_id`);

--
-- Indexes for table `password_reset_tokens`
--
ALTER TABLE `password_reset_tokens`
  ADD PRIMARY KEY (`id`),
  ADD KEY `user_id` (`user_id`);

--
-- Indexes for table `products`
--
ALTER TABLE `products`
  ADD PRIMARY KEY (`id`),
  ADD KEY `fk_products_organization` (`organization_id`);

--
-- Indexes for table `product_inventory`
--
ALTER TABLE `product_inventory`
  ADD PRIMARY KEY (`id`),
  ADD KEY `product_id` (`product_id`);

--
-- Indexes for table `product_transactions`
--
ALTER TABLE `product_transactions`
  ADD PRIMARY KEY (`id`),
  ADD KEY `product_id` (`product_id`),
  ADD KEY `user_id` (`user_id`),
  ADD KEY `fk_product_transactions_organization` (`organization_id`);

--
-- Indexes for table `spendings`
--
ALTER TABLE `spendings`
  ADD PRIMARY KEY (`id`),
  ADD KEY `user_id` (`user_id`),
  ADD KEY `fk_spendings_organization` (`organization_id`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `username` (`username`),
  ADD UNIQUE KEY `email` (`email`),
  ADD KEY `fk_users_organization` (`organization_id`);

--
-- Indexes for table `user_activity`
--
ALTER TABLE `user_activity`
  ADD PRIMARY KEY (`id`),
  ADD KEY `user_id` (`user_id`),
  ADD KEY `fk_user_activity_organization` (`organization_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `ip_blocks`
--
ALTER TABLE `ip_blocks`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `login_attempts`
--
ALTER TABLE `login_attempts`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=80;

--
-- AUTO_INCREMENT for table `organizations`
--
ALTER TABLE `organizations`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT for table `password_reset_tokens`
--
ALTER TABLE `password_reset_tokens`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `products`
--
ALTER TABLE `products`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=168;

--
-- AUTO_INCREMENT for table `product_inventory`
--
ALTER TABLE `product_inventory`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=172;

--
-- AUTO_INCREMENT for table `product_transactions`
--
ALTER TABLE `product_transactions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=34;

--
-- AUTO_INCREMENT for table `spendings`
--
ALTER TABLE `spendings`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT for table `user_activity`
--
ALTER TABLE `user_activity`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=424;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `organizations`
--
ALTER TABLE `organizations`
  ADD CONSTRAINT `organizations_ibfk_1` FOREIGN KEY (`owner_user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL;

--
-- Constraints for table `password_reset_tokens`
--
ALTER TABLE `password_reset_tokens`
  ADD CONSTRAINT `password_reset_tokens_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `products`
--
ALTER TABLE `products`
  ADD CONSTRAINT `fk_products_organization` FOREIGN KEY (`organization_id`) REFERENCES `organizations` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `product_inventory`
--
ALTER TABLE `product_inventory`
  ADD CONSTRAINT `product_inventory_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `product_transactions`
--
ALTER TABLE `product_transactions`
  ADD CONSTRAINT `fk_product_transactions_organization` FOREIGN KEY (`organization_id`) REFERENCES `organizations` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `product_transactions_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `product_transactions_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `spendings`
--
ALTER TABLE `spendings`
  ADD CONSTRAINT `fk_spendings_organization` FOREIGN KEY (`organization_id`) REFERENCES `organizations` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `spendings_user_fk` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `users`
--
ALTER TABLE `users`
  ADD CONSTRAINT `fk_users_organization` FOREIGN KEY (`organization_id`) REFERENCES `organizations` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `user_activity`
--
ALTER TABLE `user_activity`
  ADD CONSTRAINT `fk_user_activity_organization` FOREIGN KEY (`organization_id`) REFERENCES `organizations` (`id`) ON DELETE SET NULL,
  ADD CONSTRAINT `user_activity_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
